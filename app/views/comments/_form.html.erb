<%= form_with model: [post, Comment.new], local: true, data: { turbo: false }, class: "space-y-3" do |f| %>
  <div class="flex items-start space-x-3">
    <!-- User Avatar -->
    <div class="w-8 h-8 rounded-full overflow-hidden flex-shrink-0">
      <% if current_user.avatar.attached? %>
        <%= image_tag current_user.avatar, class: "w-full h-full object-cover" %>
      <% else %>
        <div class="w-full h-full bg-blue-500 flex items-center justify-center">
          <span class="text-xs font-medium text-white"><%= current_user.name.first.upcase %></span>
        </div>
      <% end %>
    </div>
    
    <!-- Comment Form -->
    <div class="flex-1">
      <%= f.text_area :content, 
          placeholder: "Write a comment...", 
          rows: 2,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 placeholder-gray-400 resize-none text-sm",
          required: true %>
      
      <div class="flex justify-end mt-2">
        <%= f.submit "Comment", 
            class: "px-4 py-1 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200" %>
      </div>
    </div>
  </div>
<% end %>
